!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e);c(2);var g=f["default"].mount("app");f["default"].route(function(){return f["default"].route("/search/funny")}),f["default"].route("/search/*",function(a){g.forEach(function(b){return b.setNewQuery(a)})}),f["default"].route.start(!0)},function(a,b,c){var d;!function(e,f){"use strict";function g(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function h(a,b){for(var c=b.length,d=a.length;c>d;){var e=b[--c];b.splice(c,1),e.unmount()}}function i(a,b){Object.keys(a.tags).forEach(function(c){var d=a.tags[c];H(d)?s(d,function(a){A(a,c,b)}):A(d,c,b)})}function j(a,b,c){var d=a._root;for(a._virts=[];d;){var e=d.nextSibling;c?b.insertBefore(d,c._root):b.appendChild(d),a._virts.push(d),d=e}}function k(a,b,c,d){for(var e=a._root,f=0;d>f;f++){var g=e.nextSibling;b.insertBefore(e,c._root),e=g}}function l(a,b,c){u(a,"each");var d,e=typeof w(a,"no-reorder")!==aa||u(a,"no-reorder"),f=E(a),l=Z[f]||{tmpl:a.outerHTML},m=ea.test(f),n=a.parentNode,p=ea.test(f),q=document.createTextNode(""),r=y(a),t=[],v=[],x="VIRTUAL"==a.tagName;c=ia.loopKeys(c),n.insertBefore(q,a),b.one("before-mount",function(){a.parentNode.removeChild(a),n.stub&&(n=b.root)}).on("update",function(){var u=ia(c.val,b),w=document.createDocumentFragment();H(u)||(d=u?JSON.stringify(u):"",u=u?Object.keys(u).map(function(a){return g(c,a,u[a])}):[]),s(u,function(h,p){var q=e&&h instanceof Object,s=v.indexOf(h),u=~s&&q?s:p,y=t[u];h=!d&&c.key?g(c,h,p):h,!q&&!y||q&&!~s||!y?(y=new o(l,{parent:b,isLoop:!0,hasImpl:!!Z[f],root:m?n:a.cloneNode(),item:h},a.innerHTML),y.mount(),x&&(y._root=y.root.firstChild),p==t.length?x?j(y,w):w.appendChild(y.root):(x?j(y,n,t[p]):n.insertBefore(y.root,t[p].root),v.splice(p,0,h)),t.splice(p,0,y),u=p):y.update(h),u!==p&&q&&(x?k(y,n,t[p],a.childNodes.length):n.insertBefore(y.root,t[p].root),c.pos&&(y[c.pos]=p),t.splice(p,0,t.splice(u,1)[0]),v.splice(p,0,v.splice(u,1)[0]),r||i(y,p)),y._item=h,D(y,"_parent",b)}),h(u,t),p?n.appendChild(w):n.insertBefore(w,q),r&&(b.tags[f]=t),v=u.slice()})}function m(a,b,c,d){K(a,function(a){if(1==a.nodeType){if(a.isLoop=a.isLoop||a.parentNode&&a.parentNode.isLoop||w(a,"each")?1:0,c){var e=y(a);e&&!a.isLoop&&c.push(B(e,{root:a,parent:b},a.innerHTML,b))}(!a.isLoop||d)&&T(a,b,[])}})}function n(a,b,c){function d(a,b,d){if(ia.hasExpr(b)){var e={dom:a,expr:b};c.push(F(e,d))}}K(a,function(a){var c=a.nodeType;if(3==c&&"STYLE"!=a.parentNode.tagName&&d(a,a.nodeValue),1==c){var e=w(a,"each");return e?(l(a,b,e),!1):(s(a.attributes,function(b){var c=b.name,e=c.split("__")[1];return d(a,b.value,{attr:e||c,bool:e}),e?(u(a,c),!1):void 0}),y(a)?!1:void 0)}})}function o(a,b,c){function d(){var a=p&&o?i:l||i;s(z.attributes,function(b){j[v(b.name)]=ia(b.value,a)}),s(Object.keys(E),function(b){j[v(b)]=ia(E[b],a)})}function e(a){for(var b in q)typeof i[b]!==ca&&I(i,b)&&(i[b]=a[b])}function g(){i.parent&&o&&s(Object.keys(i.parent),function(a){var b=!G(fa,a)&&G(K,a);(typeof i[a]===ca||b)&&(b||K.push(a),i[a]=i.parent[a])})}function h(a){if(s(y,function(b){b[a?"mount":"unmount"]()}),l){var b=a?"on":"off";o?l[b]("unmount",i.unmount):l[b]("update",i.update)[b]("unmount",i.unmount)}}var i=W.observable(this),j=R(b.opts)||{},k=ja(a.tmpl),l=b.parent,o=b.isLoop,p=b.hasImpl,q=J(b.item),w=[],y=[],z=b.root,A=a.fn,B=z.tagName.toLowerCase(),E={},K=[];A&&z._tag&&z._tag.unmount(!0),this.isMounted=!1,z.isLoop=o,z._tag=this,D(this,"_riot_id",++X),F(this,{parent:l,root:z,opts:j,tags:{}},q),s(z.attributes,function(a){var b=a.value;ia.hasExpr(b)&&(E[a.name]=b)}),k.innerHTML&&!/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(B)&&(k.innerHTML=O(k.innerHTML,c)),D(this,"update",function(a){return a=J(a),g(),a&&typeof q===ba&&(e(a),q=a),F(i,a),d(),i.trigger("update",a),r(w,i),i.trigger("updated"),this}),D(this,"mixin",function(){return s(arguments,function(a){a=typeof a===aa?W.mixin(a):a,s(Object.keys(a),function(b){"init"!=b&&(i[b]=t(a[b])?a[b].bind(i):a[b])}),a.init&&a.init.bind(i)()}),this}),D(this,"mount",function(){if(d(),A&&A.call(i,j),n(k,i,w),h(!0),(a.attrs||p)&&(L(a.attrs,function(a,b){x(z,a,b)}),n(i.root,i,w)),(!i.parent||o)&&i.update(q),i.trigger("before-mount"),o&&!p)i.root=z=k.firstChild;else{for(;k.firstChild;)z.appendChild(k.firstChild);z.stub&&(i.root=z=l.root)}o&&m(i.root,i.parent,null,!0),!i.parent||i.parent.isMounted?(i.isMounted=!0,i.trigger("mount")):i.parent.one("mount",function(){M(i.root)||(i.parent.isMounted=i.isMounted=!0,i.trigger("mount"))})}),D(this,"unmount",function(a){var b,c=z,d=c.parentNode;if(i.trigger("before-unmount"),Y.splice(Y.indexOf(i),1),this._virts&&s(this._virts,function(a){a.parentNode.removeChild(a)}),d){if(l)b=C(l),H(b.tags[B])?s(b.tags[B],function(a,c){a._riot_id==i._riot_id&&b.tags[B].splice(c,1)}):b.tags[B]=f;else for(;c.firstChild;)c.removeChild(c.firstChild);a?u(d,"riot-tag"):d.removeChild(c)}i.trigger("unmount"),h(),i.off("*"),i.isMounted=!1,z._tag=null}),m(k,this,y)}function p(a,b,c,d){c[a]=function(a){var f,g=d._parent,h=d._item;if(!h)for(;g&&!h;)h=g._item,g=g._parent;a=a||e.event,I(a,"currentTarget")&&(a.currentTarget=c),I(a,"target")&&(a.target=a.srcElement),I(a,"which")&&(a.which=a.charCode||a.keyCode),a.item=h,b.call(d,a)===!0||/radio|check/.test(c.type)||(a.preventDefault&&a.preventDefault(),a.returnValue=!1),a.preventUpdate||(f=h?C(g):d,f.update())}}function q(a,b,c){a&&(a.insertBefore(c,b),a.removeChild(b))}function r(a,b){s(a,function(a,c){var d=a.dom,e=a.attr,f=ia(a.expr,b),g=a.dom.parentNode;if(a.bool?f=f?e:!1:null==f&&(f=""),g&&"TEXTAREA"==g.tagName&&(f=(""+f).replace(/riot-/g,"")),a.value!==f){if(a.value=f,!e)return void(d.nodeValue=""+f);if(u(d,e),t(f))p(e,f,d,b);else if("if"==e){var h=a.stub,i=function(){q(h.parentNode,h,d)},j=function(){q(d.parentNode,d,h)};f?h&&(i(),d.inStub=!1,M(d)||K(d,function(a){a._tag&&!a._tag.isMounted&&(a._tag.isMounted=!!a._tag.trigger("mount"))})):(h=a.stub=h||document.createTextNode(""),d.parentNode?j():(b.parent||b).one("updated",j),d.inStub=!0)}else if(/^(show|hide)$/.test(e))"hide"==e&&(f=!f),d.style.display=f?"":"none";else if("value"==e)d.value=f;else if(U(e,$)&&e!=_)f&&x(d,e.slice($.length),f);else{if(a.bool&&(d[e]=f,!f))return;typeof f!==ba&&x(d,e,f)}}})}function s(a,b){for(var c,d=0,e=(a||[]).length;e>d;d++)c=a[d],null!=c&&b(c,d)===!1&&d--;return a}function t(a){return typeof a===da||!1}function u(a,b){a.removeAttribute(b)}function v(a){return a.replace(/(\-\w)/g,function(a){return a.toUpperCase().replace("-","")})}function w(a,b){return a.getAttribute(b)}function x(a,b,c){a.setAttribute(b,c)}function y(a){return a.tagName&&Z[w(a,_)||a.tagName.toLowerCase()]}function z(a,b,c){var d=c.tags[b];d?(H(d)||d!==a&&(c.tags[b]=[d]),G(c.tags[b],a)||c.tags[b].push(a)):c.tags[b]=a}function A(a,b,c){var d,e=a.parent;e&&(d=e.tags[b],H(d)?d.splice(c,0,d.splice(d.indexOf(a),1)[0]):z(a,b,e))}function B(a,b,c,d){var e=new o(a,b,c),f=E(b.root),g=C(d);return e.parent=g,e._parent=d,z(e,f,g),g!==d&&z(e,f,d),b.root.innerHTML="",e}function C(a){for(var b=a;!y(b.root)&&b.parent;)b=b.parent;return b}function D(a,b,c,d){return Object.defineProperty(a,b,F({value:c,enumerable:!1,writable:!1,configurable:!1},d)),a}function E(a){var b=y(a),c=w(a,"name"),d=c&&!ia.hasExpr(c)?c:b?b.name:a.tagName.toLowerCase();return d}function F(a){for(var b,c=arguments,d=1;d<c.length;++d)if(b=c[d])for(var e in b)I(a,e)&&(a[e]=b[e]);return a}function G(a,b){return~a.indexOf(b)}function H(a){return Array.isArray(a)||a instanceof Array}function I(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return typeof a[b]===ca||c&&c.writable}function J(a){if(!(a instanceof o||a&&typeof a.trigger==da))return a;var b={};for(var c in a)G(fa,c)||(b[c]=a[c]);return b}function K(a,b){if(a){if(b(a)===!1)return;for(a=a.firstChild;a;)K(a,b),a=a.nextSibling}}function L(a,b){for(var c,d=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;c=d.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function M(a){for(;a;){if(a.inStub)return!0;a=a.parentNode}return!1}function N(a){return document.createElement(a)}function O(a,b){return a.replace(/<(yield)\/?>(<\/\1>)?/gi,b||"")}function P(a,b){return(b||document).querySelectorAll(a)}function Q(a,b){return(b||document).querySelector(a)}function R(a){function b(){}return b.prototype=a,new b}function S(a){return w(a,"id")||w(a,"name")}function T(a,b,c){var d=S(a),e=function(e){if(!G(c,d)){var f=H(e);e?(!f||f&&!G(e,a))&&(f?e.push(a):b[d]=[e,a]):b[d]=a}};d&&(ia.hasExpr(d)?b.one("updated",function(){d=S(a),e(b[d])}):e(b[d]))}function U(a,b){return a.slice(0,b.length)===b}function V(a,b,c){var d=Z[b],e=a._innerHTML=a._innerHTML||a.innerHTML;return a.innerHTML="",d&&a&&(d=new o(d,{root:a,opts:c},e)),d&&d.mount&&(d.mount(),G(Y,d)||Y.push(d)),d}var W={version:"v2.3.1",settings:{}},X=0,Y=[],Z={},$="riot-",_=$+"tag",aa="string",ba="object",ca="undefined",da="function",ea=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,fa=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],ga=0|(e&&e.document||{}).documentMode;W.observable=function(a){a=a||{};var b={},c=function(a,b){a.replace(/\S+/g,b)},d=function(b,c){Object.defineProperty(a,b,{value:c,enumerable:!1,writable:!1,configurable:!1})};return d("on",function(d,e){return"function"!=typeof e?a:(c(d,function(a,c){(b[a]=b[a]||[]).push(e),e.typed=c>0}),a)}),d("off",function(d,e){return"*"==d?b={}:c(d,function(a){if(e)for(var c,d=b[a],f=0;c=d&&d[f];++f)c==e&&d.splice(f--,1);else delete b[a]}),a}),d("one",function(b,c){function d(){a.off(b,d),c.apply(a,arguments)}return a.on(b,d)}),d("trigger",function(d){for(var e=arguments.length-1,f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+1];return c(d,function(c){for(var d,e=(b[c]||[]).slice(0),g=0;d=e[g];++g){if(d.busy)return;d.busy=1;try{d.apply(a,d.typed?[c].concat(f):f)}catch(h){}e[g]!==d&&g--,d.busy=0}b.all&&"all"!=c&&a.trigger.apply(a,["all",c].concat(f))}),a}),a},function(a){function b(a){return a.split(/[\/?#]/)}function c(a,b){var c=new RegExp("^"+b[v](/\*/g,"([^/?#]+?)")[v](/\.\./,".*")+"$"),d=a.match(c);return d?d.slice(1):void 0}function d(){this.$=[],a.observable(this),F.on("stop",this.s.bind(this)),F.on("emit",this.e.bind(this))}function f(a){return a[v](/^\/|\/$/,"")}function g(a){return"string"==typeof a}function h(a){return(a||B.href)[v](q,"")}function i(a){return"#"==m[0]?(a||B.href).split(m)[1]||"":h(a)[v](m,"")}function j(a){var b=0==H;if(!(H>=y)&&(H++,G.push(function(){var b=i();(a||b!=n)&&(F[x]("emit",b),n=b)}),b)){for(;G.length;)G[0](),G.shift();H=0}}function k(a){if(!(1!=a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.defaultPrevented)){for(var b=a.target;b&&"A"!=b.nodeName;)b=b.parentNode;if(b&&"A"==b.nodeName&&!b[u]("download")&&b[u]("href")&&(!b.target||"_self"==b.target)&&-1!=b.href.indexOf(B.href.match(q)[0])){if(b.href!=B.href){if(b.href.split("#")[0]==B.href.split("#")[0])return;l(i(b.href),b.title||A.title)}a.preventDefault()}}}function l(a,b){b=b||A.title,history.pushState(null,b,m+f(a)),A.title=b,j()}if(e){var m,n,o,p,q=/^.+?\/+[^\/]+/,r="EventListener",s="remove"+r,t="add"+r,u="hasAttribute",v="replace",w="popstate",x="trigger",y=3,z=e,A=document,B=z.history.location||z.location,C=d.prototype,D=A&&A.ontouchstart?"touchstart":"click",E=!1,F=a.observable(),G=[],H=0;C.m=function(a,b){!g(a)||b&&!g(b)?b?this.r(a,b):this.r("@",a):l(a,b)},C.s=function(){this.off("*"),this.$=[]},C.e=function(a){this.$.concat("@").some(function(b){var c=("@"==b?o:p)(f(a),f(b));return c?(this[x].apply(null,[b].concat(c)),!0):void 0},this)},C.r=function(a,b){"@"!=a&&(a="/"+f(a),this.$.push(a)),this.on(a,b)};var I=new d,J=I.m.bind(I);J.create=function(){var a=new d;return a.m.stop=a.s.bind(a),a.m.bind(a)},J.base=function(a){m=a||"#",n=i()},J.exec=function(){j(!0)},J.parser=function(a,d){a||d||(o=b,p=c),a&&(o=a),d&&(p=d)},J.query=function(){var a={};return B.href[v](/[?&](.+?)=([^&]*)/g,function(b,c,d){a[c]=d}),a},J.stop=function(){E&&(z[s](w,j),A[s](D,k),F[x]("stop"),E=!1)},J.start=function(a){E||(z[t](w,j),A[t](D,k),E=!0),a&&j(!0)},J.base(),J.parser(),a.route=J}}(W);var ha=function(a){function b(a,b){return new RegExp(a,b)}function c(a){return a}function d(a){return new RegExp(a.source.replace(/{/g,p[2]).replace(/}/g,p[3]),a.global?i:"")}function e(a){if(a=a||m,a!==p[8]){var e=a.split(" ");if(a===m)p=e.concat(e),h=c;else{if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(a))throw new Error('Unsupported brackets "'+a+'"');p=e.concat(a.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),h=d}p[4]=h(p[1].length>1?/(?:^|[^\\]){[\S\s]*?}/:/(?:^|[^\\]){[^}]*}/),p[5]=h(/\\({|})/g),p[6]=h(/(\\?)({)/g),p[7]=b("(\\\\?)(?:([[({])|("+p[3]+"))|"+l,i),p[9]=b(/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S+)\s*}/),p[8]=a}g.settings.brackets=o=a}function f(a){o!==a&&e(a)}function g(a){return f(g.settings.brackets),a instanceof RegExp?h(a):p[a]}var h,i="g",j=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,k=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,l=k.source+"|"+/(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/])/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,m="{ }",n={"(":b("([()])|"+l,i),"[":b("([[\\]])|"+l,i),"{":b("([{}])|"+l,i)},o=a,p=[];return g.split=function(a,b){function c(a){b||f?j.push(a&&a.replace(p[5],"$1")):j.push(a)}function d(b,c){var d,e=n[b],f=1;for(e.lastIndex=c;(d=e.exec(a))&&(!d[1]||(d[1]===b?++f:--f)););return d?e.lastIndex:a.length}var e,f,h,i,j=[],k=g(6);for(f=h=k.lastIndex=0;e=k.exec(a);){if(i=e.index,f){if(e[2]){k.lastIndex=d(e[2],k.lastIndex);continue}if(!e[3])continue}e[1]||(c(a.slice(h,i)),h=k.lastIndex,k=p[6+(f^=1)],k.lastIndex=h)}return a&&h<a.length&&c(a.slice(h)),j},g.hasExpr=function(a){return g(4).test(a)},g.loopKeys=function(a){var b=a.match(g(9));return b?{key:b[1],pos:b[2],val:p[0]+b[3]+p[1]}:{val:a.trim()}},g.array=function(a){return null!=a&&e(a),p},g.settings="undefined"!=typeof W&&W.settings||{},g.set=f,g.R_STRINGS=k,g.R_MLCOMMS=j,g.S_QBLOCKS=l,e(g.settings.brackets),g}(),ia=function(){function a(a,d){return a?(i[a]||(i[a]=c(a))).call(d,b):a}function b(b,c){a.errorHandler&&(b.riotData={tagName:c&&c.root&&c.root.tagName,_riot_id:c&&c._riot_id},a.errorHandler(b))}function c(a){var b=d(a);return"try{return "!==b.slice(0,11)&&(b="return "+b),new Function("E",b+";")}function d(a){var b,c=[],d=ha.split(a,1);if(d.length>2||d[0]){var e,g,h=[];for(e=g=0;e<d.length;++e)b=d[e],b&&(b=1&e?f(b,1,c):'"'+b.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(h[g++]=b);b=2>g?h[0]:"["+h.join(",")+'].join("")'}else b=f(d[1],0,c);return c[0]&&(b=b.replace(k,function(a,b){return c[b].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),b}function f(a,b,c){function d(b,c){var d,e=1,f="("===b?/[()]/g:"["===b?/[[\]]/g:/[{}]/g;for(f.lastIndex=c.lastIndex;d=f.exec(a);)if(d[0]===b)++e;else if(!--e)break;c.lastIndex=e?a.length:f.lastIndex}if(a=a.replace(j,function(a,b){return a.length>2&&!b?""+(c.push(a)-1)+"~":a}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var e,f=[],h=0;a&&(e=a.match(l))&&!e.index;){var i,k,m=/,|([[{(])|$/g;for(a=RegExp.rightContext,i=e[2]?c[e[2]].slice(1,-1).trim().replace(/\s+/g," "):e[1];k=(e=m.exec(a))[1];)d(k,m);k=a.slice(0,e.index),a=RegExp.rightContext,f[h++]=g(k,1,i)}a=h?h>1?"["+f.join(",")+'].join(" ").trim()':f[0]:g(a,b)}return a}function g(a,b,c){var d=h;return a=a.replace(n,function(a,b,c,e,f){return c&&(e=d?0:e+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+'("'+c+m+c,e&&(d="."===(f=f[e])||"("===f||"["===f)):e&&(d=!/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/.test(f.slice(e)))),a}),d&&(a="try{return "+a+"}catch(e){E(e,this)}"),c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+'?"'+c+'":""':b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+';return v||v===0?v:""}.call(this)'),a}var h=!1,i={};a.hasExpr=ha.hasExpr,a.loopKeys=ha.loopKeys,a.errorHandler=h;var j=new RegExp(ha.S_QBLOCKS,"g"),k=/\x01(\d+)~/g,l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,m='"in this?this:'+("object"!=typeof e?"global":"window")+").",n=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g;return a.parse=function(a){return a},a}(),ja=function(a){function b(b){var f=b&&b.match(/^\s*<([-\w]+)/),g=f&&f[1].toLowerCase(),h=d[g]||e,i=N(h);return i.stub=!0,a&&g&&(f=g.match(ea))?c(i,b,g,!!f[1]):i.innerHTML=b,i}function c(a,b,c,d){var f,g=N(e),h=d?"select>":"table>";g.innerHTML="<"+h+b+"</"+h,f=Q(c,g),f&&a.appendChild(f)}var d={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},e="div";return a=a&&10>a,b}(ga),ka=function(){if(e){var a=N("style"),b=Q("style[type=riot]");return x(a,"type","text/css"),b?(b.parentNode.replaceChild(a,b),b=null):document.getElementsByTagName("head")[0].appendChild(a),a.styleSheet?function(b){a.styleSheet.cssText+=b}:function(b){a.innerHTML+=b}}}();W.util={brackets:ha,tmpl:ia},W.mixin=function(){var a={};return function(b,c){return c?void(a[b]=c):a[b]}}(),W.tag=function(a,b,c,d,e){return t(d)&&(e=d,/^[\w\-]+\s?=/.test(c)?(d=c,c=""):d=""),c&&(t(c)?e=c:ka&&ka(c)),Z[a]={name:a,tmpl:b,attrs:d,fn:e},a},W.tag2=function(a,b,c,d,e,f){return c&&ka&&ka(c),Z[a]={name:a,tmpl:b,attrs:d,fn:e},a},W.mount=function(a,b,c){function d(a){var b="";return s(a,function(a){b+=", *["+_+'="'+a.trim()+'"]'}),b}function e(){var a=Object.keys(Z);return a+d(a)}function f(a){var d;if(a.tagName){!b||(d=w(a,_))&&d==b||x(a,_,b);var e=V(a,b||a.getAttribute(_)||a.tagName.toLowerCase(),c);e&&i.push(e)}else a.length&&s(a,f)}var g,h,i=[];if(typeof b===ba&&(c=b,b=0),typeof a===aa?("*"===a?a=h=e():a+=d(a.split(",")),g=a?P(a):[]):g=a,"*"===b){if(b=h||e(),g.tagName)g=P(b,g);else{var j=[];s(g,function(a){j.push(P(b,a))}),g=j}b=0}return g.tagName?f(g):s(g,f),i},W.update=function(){return s(Y,function(a){a.update()})},W.Tag=o,typeof b===ba?a.exports=W:(d=function(){return e.riot=W}.call(b,c,b,a),!(d!==f&&(a.exports=d)))}("undefined"!=typeof window?window:void 0)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e);c(3);var g=function(a,b,c){a.throttler&&clearTimeout(a.throttler),a.throttler=setTimeout(function(){a.opts.query=c||b.target.value,c&&(a.search.value=c),a.update()},c?1:1e3)},h=function(a){a.mount("posts")};f["default"].tag("app",'\n    <div class="header-wrapper">\n        <div class="header">\n            <div class="logo">Reddit</div>\n            <form onsubmit={onSubmit}>\n                <input onkeyup={onKeypress} class="search-input" type="text" name="search">\n            </form>\n        </div>\n    </div>\n    <div class="posts-wrapper">\n        <posts query="{opts.query}"></posts>\n    </div>\n    ',function(a){var b=this;this.on("mount",h.bind(null,this)),this.onSubmit=function(a){return a.preventDefault()},this.onKeypress=function(a){return g(b,a)},this.setNewQuery=g.bind(this,this,null)})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e),g=c(4),h=c(17);c(18);var i=function(a,b){(0,g.addView)(a),f["default"].mount("post-item")},j=function(a,b){var c=b?b.query:null;(0,h.fetchAll)(c)};f["default"].tag("posts",'\n    <div class="loading {is-loading: isLoading}"></div>\n    <post-item each={posts}></post-item>\n    ',function(a){this.on("mount",i.bind(null,this,a)),this.on("update",j.bind(null,this,a))})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=d(e),g=c(5),h=void 0,i=void 0,j={CHANGE_QUERY:"CHANGE_QUERY",UPDATE_POSTS:"UPDATE_POSTS"},k=void 0,l=void 0,m=function(a,b){switch(a=a||{},b.type){case j.CHANGE_QUERY:return k(a,b);case j.UPDATE_POSTS:return l(a,b);default:return a}},n=function(){var a=i.getState();h.forEach(function(b){return b.update(a)})},o=function(a){return h.push(a)},p=function(a){},q=function(a){a.type=j[a.type],i.dispatch(a)},r=function(){return i.getState().query};k=function(a,b){return f["default"].route("/search/"+b.query),{query:b.query,err:null,isLoading:!1,posts:a.posts}},l=function(a,b){if(b.err||b.isLoading)return{query:a.query,err:b.err,isLoading:!!b.isLoading,posts:a.posts};var c=b.data.map(function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=a.thumbnail,c=!!b&&"nsfw"!==b&&"self"!==b;return{permalink:a.permalink,thumbnail:c?b:null,author:a.author,title:a.title,num_comments:a.num_comments,ups:a.ups,downs:a.downs}}).filter(function(a){return!!a.permalink});return{query:a.query,err:null,isLoading:!1,posts:c}},h=[],i=(0,g.finalCreateStore)(m),i.subscribe(n),b.getQuery=r,b.dispatchAction=q,b.addView=o,b.removeView=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(6),f=c(16),g=d(f),h=(0,e.compose)((0,e.applyMiddleware)(g["default"]))(e.createStore);b.finalCreateStore=h},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=c(7),f=d(e),g=c(9),h=d(g),i=c(13),j=d(i),k=c(14),l=d(k),m=c(15),n=d(m);b.createStore=f["default"],b.combineReducers=h["default"],b.bindActionCreators=j["default"],b.applyMiddleware=l["default"],b.compose=n["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){function c(){return j}function d(a){k.push(a);var b=!0;return function(){if(b){b=!1;var c=k.indexOf(a);k.splice(c,1)}}}function e(a){if(!g["default"](a))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof a.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,j=i(j,a)}finally{l=!1}return k.slice().forEach(function(a){return a()}),a}function f(a){i=a,e({type:h.INIT})}if("function"!=typeof a)throw new Error("Expected the reducer to be a function.");var i=a,j=b,k=[],l=!1;return e({type:h.INIT}),{dispatch:e,subscribe:d,getState:c,replaceReducer:f}}b.__esModule=!0,b["default"]=e;var f=c(8),g=d(f),h={INIT:"@@redux/INIT"};b.ActionTypes=h},function(a,b){"use strict";function c(a){if(!a||"object"!=typeof a)return!1;var b="function"==typeof a.constructor?Object.getPrototypeOf(a):Object.prototype;if(null===b)return!0;var c=b.constructor;return"function"==typeof c&&c instanceof c&&d(c)===d(Object)}b.__esModule=!0,b["default"]=c;var d=function(a){return Function.prototype.toString.call(a)};a.exports=b["default"]},function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){var c=b&&b.type,d=c&&'"'+c.toString()+'"'||"an action";return'Reducer "'+a+'" returned undefined handling '+d+". To ignore an action, you must explicitly return the previous state."}function g(a,b,c){var d=Object.keys(b),e=c&&c.type===j.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===d.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!l["default"](a))return"The "+e+' has unexpected type of "'+{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+d.join('", "')+'"');var f=Object.keys(a).filter(function(a){return d.indexOf(a)<0});return f.length>0?"Unexpected "+(f.length>1?"keys":"key")+" "+('"'+f.join('", "')+'" found in '+e+". ")+"Expected to find one of the known reducer keys instead: "+('"'+d.join('", "')+'". Unexpected keys will be ignored.'):void 0}function h(a){Object.keys(a).forEach(function(b){var c=a[b],d=c(void 0,{type:j.ActionTypes.INIT});if("undefined"==typeof d)throw new Error('Reducer "'+b+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var e="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof c(void 0,{type:e}))throw new Error('Reducer "'+b+'" returned undefined when probed with a random type. '+("Don't try to handle "+j.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function i(a){var b,c=p["default"](a,function(a){return"function"==typeof a});try{h(c)}catch(e){b=e}var i=n["default"](c,function(){});return function(a,e){if(void 0===a&&(a=i),b)throw b;var h=!1,j=n["default"](c,function(b,c){var d=a[c],g=b(d,e);if("undefined"==typeof g){var i=f(c,e);throw new Error(i)}return h=h||g!==d,g});if("production"!==d.env.NODE_ENV){var k=g(a,j,e);k&&console.error(k)}return h?j:a}}b.__esModule=!0,b["default"]=i;var j=c(7),k=c(8),l=e(k),m=c(11),n=e(m),o=c(12),p=e(o);a.exports=b["default"]}).call(b,c(10))},function(a,b){"use strict";function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g&&g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=a.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(a){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(a){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,b){"use strict";function c(a,b){return Object.keys(a).reduce(function(c,d){return c[d]=b(a[d],d),c},{})}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a,b){return Object.keys(a).reduce(function(c,d){return b(a[d])&&(c[d]=a[d]),c},{})}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return function(){return b(a.apply(void 0,arguments))}}function f(a,b){if("function"==typeof a)return e(a,b);if("object"!=typeof a||null===a||void 0===a)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===a?"null":typeof a)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return h["default"](a,function(a){return e(a,b)})}b.__esModule=!0,b["default"]=f;var g=c(11),h=d(g);a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return function(a){return function(c,d){var e=a(c,d),g=e.dispatch,i=[],j={getState:e.getState,dispatch:function(a){return g(a)}};return i=b.map(function(a){return a(j)}),g=h["default"].apply(void 0,i)(e.dispatch),f({},e,{dispatch:g})}}}b.__esModule=!0;var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b["default"]=e;var g=c(15),h=d(g);a.exports=b["default"]},function(a,b){"use strict";function c(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a){var b=a.dispatch,c=a.getState;return function(a){return function(d){return"function"==typeof d?d(b,c):a(d)}}}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=function(a){if((0,d.getQuery)()!==a){(0,d.dispatchAction)({type:"CHANGE_QUERY",query:a}),(0,d.dispatchAction)({type:"UPDATE_POSTS",isLoading:!0});var b=new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",encodeURI("http://www.reddit.com/r/"+a+"/.json")),d.onload=function(){200!==d.status&&c({code:"BAD_REQUEST",message:"Request failed. Returned status of "+d.status}),b(JSON.parse(d.responseText))},d.send()});return b.then(function(b){if((0,d.getQuery)()===a){var c=b.data.children.map(function(a){return a.data});(0,d.dispatchAction)({type:"UPDATE_POSTS",data:c})}})["catch"](function(b){(0,d.getQuery)()===a&&(0,d.dispatchAction)({type:"UPDATE_POSTS",err:b})}),b}};b.fetchAll=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e);f["default"].tag("post-item",'\n    <div class="thumb { no-thumb: !thumbnail } post-thumb" style="{ !!thumbnail ? \'background-image:url(\' + thumbnail + \')\' : \'\' }"></div>\n    <div class="post-info">\n        <div class="post-author">{ author }</div>\n        <div class="truncate post-desc">{ title }</div>\n        <ul class="post-social">\n            <li><div class="icon icon-comment"></div>{ num_comments } comments</li>\n            <li><div class="icon icon-favorite"></div>{ ups } ups</li>\n            <li><div class="icon icon-down"></div>{ downs } downs</li>\n        </ul>\n    </div>\n    ',function(a){})}]);